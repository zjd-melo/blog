---
title: Shell到底是什么
date: 2024-07-17 16:51:32
updated: 2024-07-17 16:51:32
categories: Shell
tags: Shell
description: Shell 到底是什么
---

## The Kernel and the Utilities
![kernel](kernel.png
Unix 系统在逻辑上可以分为两个部分：the kernel and the utilities。 或者，如果你愿意的话，内核和其他所有内容通常都通过 shell 访问。

内核是 Unix 系统的核心，从计算机启动到关闭期间都驻留在计算机的内存中。

磁盘上各种各样的 tools 构成了完整的 Unix 系统体验，只有当调用这些 utilities 时，才会被加载到内存并执行。事实上，你所知道的每一个 Unix 命令都是一个实用程序；因此，该程序驻留在磁盘上，并且仅根据您的请求才被调入内存。

比如当执行 `date` 命令时，Unix 系统会从磁盘上找到名为 `date` 的程序，并加载到内存中，然后开始执行加载到内存中命令的指令。

shell 同样也是一个 utility programe，当你执行登陆操作时会被加载到内存执行。事实上，非常值得学习一下在终端开启时启动第一个 shell 所发生的精确的事件顺序。

## The Login Shell
在早期的时候，terminals 终端是一个物理设备，通过一条线直接连接到 Unix 硬件系统。如今 terminal programs 让你在自己的电脑上通过网络连接登陆远程系统。

通常我们打开一个程序（Terminal or xterm）然后使用诸如 `ssh`、`telnet`、`rlogin` 的程序连接远程系统。

对一个系统上的每一个物理终端都会有一个叫做 `getty` 的程序出炉活跃状态。

The getty process.
![getty](getty.png)

Unix 系统——更准确地说是一个名为 `init` 的程序——负责每当系统允许用户登录时，就会自动在每个终端端口上启动一个 `getty` 程序。

`getty` 本质上是一个设备驱动程序，让登录程序 `login` 在其指定的终端上显示消息 `login:` 并等待用户输入内容。

如果使用类似 `ssh` 的程序连接系统，就会被分配一个 `pseudo-terminal` 或者 `pseudo-tty`，即伪终端，
